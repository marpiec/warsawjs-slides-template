<!DOCTYPE html>
<html lang="en">
<head>
    <title>WarsawJS Slides: Template</title>

    <meta charset="utf-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Shower Theme -->
    <link rel="stylesheet" href="vendors/shower-ribbon/styles/screen-16x10.css"/>
    <link rel="stylesheet" href="vendors/shower-warsawjs/styles/main.css"/>

    <!-- Prism.js -->
    <link rel="stylesheet" href="vendors/prism/prism.css"/>
    <link rel="stylesheet" href="vendors/prism/custom-prism.css"/>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Simple Graph Editor: Built with TypeScript + D3</h1>
        <p>We talk about JavaScript. Each month in Warsaw, Poland.</p>
    </header>

    <section class="slide front-page">
        <div class="logo">
            <!-- Logo WarsawJS -->
            <img src="pictures/logo/warsawjs-logo-light.png">
        </div>
        <div class="details">
            <!-- 1. Avatar -->
            <img src="pictures/fake-speaker-avatar.jpg" alt="Speaker" height="200"/>

            <!-- 2. Speaker -->
            <h2>Marcin Pieciukiewicz</h2>

            <!-- 3. Presentation title -->
            <h2><strong>"Simple Graph Editor: Built with TypeScript + D3"</strong></h2>

            <!-- 4. Presentation date -->
            <h2>2017-01-11</h2>

            <!-- 5. Contact the speaker -->
            <h2><a href="http://twitter.com/marpiec">@marpiec</a></h2>
        </div>
    </section>

    <section class="slide">
        <h2>Requirements</h2>
        <ol>
            <li>User can add node using "double click"</li>
            <li class="next">User can remove selected node using "delete" keyboard button</li>
            <li class="next">User can move node around the screen using a mouse</li>
            <li class="next">User can add edge by dragging it out from a node</li>
            <li class="next">User can remove selected edge using "delete" keyboard button</li>
        </ol>
        <p class="next"><a href="http://marpiec.github.io/GraphEditor/" target="_blank">Try it out!</a></p>
    </section>

    <section class="slide">
        <h2>Technologies used</h2>
        <ol>
            <li>To build the project: <a href="http://gulpjs.com/" target="_blank">Gulp.js</a> on <a href="https://nodejs.org/en/" target="_blank">Node.js</a></li>
            <li class="next">To load dependencies: <a href="https://www.npmjs.com/" target="_blank">npm</a> (Package Manager for JavaScript)</li>
            <li class="next">To write the code: <a href="https://www.typescriptlang.org/" target="_blank">TypeScript</a></li>
            <li class="next">To interact with an User: HTML + SVG + <a href="http://sass-lang.com/" target="_blank">Sass</a></li>
            <li class="next">To display nice icons: <a href="http://fontawesome.io/" target="_blank">Font Awesome</a></li>
            <li class="next">To generate HTML based on data: <a href=https://d3js.org/" target="_blank">Data-Driven Documents (D3)</a></li>
            <li class="next">To manipulate data: <a href="https://lodash.com/" target="_blank">Lodash</a></li>
        </ol>
    </section>

    <section class="slide">
        <h2>Project Dependencies with npm</h2>
        <ol>
            <li>Build-time dependencies (devDependencies)</li>
            <li>Runtime dependencies (dependencies)</li>
        </ol>
        <pre style="font-size: 21px; height: 40%; overflow-x: hidden; overflow-y: scroll; white-space: nowrap;" class="language-javascript line-numbers">
            <code style="line-height: 1.4; padding-left: 50px;">
{
  "name": "graph-editor",
  "version": "1.0.1",
  "devDependencies": {
    "browser-sync": "2.18.5",
    "gulp": "3.9.1",
    "gulp-clean": "0.3.2",
    "gulp-concat": "2.6.1",
    "gulp-filter": "4.0.0",
    "gulp-folders": "1.1.0",
    "gulp-order": "1.1.1",
    "gulp-rev": "7.1.2",
    "gulp-rev-all": "0.9.7",
    "gulp-rev-replace": "0.4.3",
    "gulp-sass": "2.3.2",
    "gulp-sourcemaps": "1.9.1",
    "gulp-typescript": "3.1.3",
    "gulp-util": "3.0.8",
    "jasmine-core": "2.5.2",
    "merge2": "1.0.3",
    "requirejs": "2.3.2",
    "typescript": "2.1.4"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "dependencies": {
    "@types/lodash": "^4.14.45",
    "d3": "3.5.17",
    "font-awesome": "4.7.0",
    "lodash": "4.17.4"
  }
}
            </code>
        </pre>
        <h2>package.json</h2>
    </section>

    <section class="slide">
        <h2>Project Build with Gulp</h2>
        <ol>
            <li class="next">Copy HTML</li>
            <li class="next">Concatenate JavaScript libraries into single JS file</li>
            <li class="next">Compile TypeScript files into single JS file</li>
            <li class="next">Compile Sass files into single CSS file</li>
            <li class="next">Copy font files</li>
            <li class="next">Rename files and references to prevent browser cache</li>
        </ol>
    </section>


    <section class="slide">
        <pre style="font-size: 21px; height: 80%; overflow: auto; white-space: nowrap;" class="language-javascript line-numbers">
            <code style="line-height: 1.4; padding-left: 50px;">
var gulp = require('gulp');
var ts = require('gulp-typescript');
var browserSync = require('browser-sync').create();
var merge = require('merge2');
var sass = require('gulp-sass');
var clean = require('gulp-clean');
var sourcemaps = require('gulp-sourcemaps');
var rev = require('gulp-rev');
var revReplace = require('gulp-rev-replace');
var gulpFilter = require('gulp-filter');
var concat = require('gulp-concat');

var buildDir = function(path) {return './build/' + path};
var appDir = function(path) {return './app/' + path};
var stylesDir = function(path) {return './app/styles/' + path};
var npmModulesDir = function(path) {return './node_modules/' + path};
var releaseDevDir = function(path) {return './build/releaseDev/' + path};
var releaseDir = function(path) {return './build/release/' + path};
var npmDependency = function(dependency, dependencyMinimized, minimized) {return minimized ? npmModulesDir(dependencyMinimized) : npmModulesDir(dependency)};

// HTML
gulp.task('html', function() {
  return gulp.src('app/*.html')
   .pipe(gulp.dest(releaseDevDir('')))
});

gulp.task('scripts-libs', function() {
  return gulp.src([
   npmDependency('lodash/lodash.js', 'lodash/lodash.min.js', true),
   npmDependency('d3/d3.js', 'd3/d3.min.js', true)
  ]).pipe(concat('libs.js')).pipe(gulp.dest(releaseDevDir('scripts/')))
});

var tsProject = ts.createProject('./app/scripts/tsconfig.json');

gulp.task('scripts', function () {
  var tsResult = tsProject.src()
   .pipe(sourcemaps.init())
   .pipe(tsProject());

  return merge([
   tsResult.dts
    .pipe(gulp.dest(releaseDevDir('scripts'))),
   tsResult.js
    .pipe(sourcemaps.write("../maps"))
    .pipe(gulp.dest(releaseDevDir('scripts')))
  ]);

});

gulp.task('styles', function () {
  gulp.src(stylesDir('**/*.scss'))
   .pipe(sourcemaps.init())
   .pipe(sass({outputStyle: 'compressed'}).on('error', sass.logError))
   .pipe(sourcemaps.write('.'))
   .pipe(gulp.dest(releaseDevDir('styles')));
});

// HTML
gulp.task('fonts', function() {
  return gulp.src([npmModulesDir('font-awesome/fonts/*')])
   .pipe(gulp.dest(releaseDevDir('fonts')))
});

// Static server
gulp.task('browser-sync', ['scripts'], function() {
  browserSync.init({
   server: {
    baseDir: releaseDevDir('')
   }
  });

  gulp.watch(appDir('**/*.ts*'), ['scripts']);
  gulp.watch(appDir('**/*.scss'), ['styles']);
  gulp.watch(appDir('**/*.html'), ['html']);
  gulp.watch(appDir('**/*.html')).on('change', browserSync.reload);
});

gulp.task('clean', function() {
  return merge([
   gulp.src(buildDir(''), {read: false}).pipe(clean()),
   gulp.src(releaseDevDir(''), {read: false}).pipe(clean()),
   gulp.src(releaseDir(''), {read: false}).pipe(clean())]);
});

gulp.task('clean-release', function() {
   return gulp.src(releaseDir('')).pipe(clean());
});

gulp.task('revision', ['clean-release', 'html', 'scripts-libs', 'scripts', 'styles', 'fonts'], function() {
  const revisionedFilter = gulpFilter(['**/*.*', '!**/index.html'], {restore: true});
  const nonRevisionedFilter = gulpFilter(['**/index.html']);
  return gulp.src([releaseDevDir('**/*')])
   .pipe(revisionedFilter)
   .pipe(rev())
   .pipe(gulp.dest(releaseDir('')))
   .pipe(rev.manifest())
   .pipe(gulp.dest(buildDir('')))
   .pipe(revisionedFilter.restore)
   .pipe(nonRevisionedFilter)
   .pipe(gulp.dest(releaseDir('')))
});

gulp.task("revreplace", ["revision"], function(){
  var manifest = gulp.src(buildDir('rev-manifest.json'));
  return gulp.src(releaseDir('**/*.*'))
   .pipe(revReplace({manifest: manifest}))
   .pipe(gulp.dest(releaseDir('')));
});

gulp.task('release', ['default', 'revreplace']);
gulp.task('default', ['html', 'scripts-libs', 'scripts', 'styles', 'fonts']);
gulp.task('server', ['default', 'browser-sync']);
            </code>
        </pre>
        <h2>gulpfile.js</h2>
    </section>


    <section class="slide">
        <h2>TypeScript</h2>
        <blockquote>
            <p>
                TypeScript is a typed superset of JavaScript that compiles to plain JavaScript
            </p>
        </blockquote>
        <ol>
            <li>Classes and Interfaces</li>
            <li>Types annotation</li>
            <li>Support for constants and variables</li>
            <li>Compile time errors</li>
            <li>Compatibility with JavaScript</li>
            <li>... and many more</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Data-Driven Documents (D3)</h2>
    </section>

    <section class="slide">
        <h2>Building Graph Editor</h2>
    </section>

    <section class="slide">
        <h2>Graph Editor model</h2>
        <pre style="font-size: 21px; height: 80%; overflow-x: hidden; white-space: nowrap;" class="language-javascript line-numbers">
            <code style="line-height: 1.4; padding-left: 50px;">
                // Simplified code
                class GraphNode {
                    id: number;
                    position: PositionXY;
                }
                class GraphEdge {
                    id: number;
                    fromNodeId: number;
                    toNodeId: number;
                }
                class GraphViewModel {
                    nodes: Array&lt;GraphNode&gt;;
                    edges: Array&lt;GraphEdge&gt;;
                }
            </code>
        </pre>
    </section>



    <section class="slide">
        <h2>Drag & Drop phases</h2>
        <ol>
            <li class="next">Mouse pointer is placed over an object</li>
            <li class="next">Left mouse button is pressed</li>
            <li class="next">Mouse pointer is being moved to new location</li>
            <li class="next">Left mouse button is released</li>
        </ol>
    </section>


    <section class="slide">
        <h2>Drag behavior (D3 & TypeScript Wrapper)</h2>
        <ol>
            <li class="next">Origin</li>
            <li class="next">On drag started</li>
            <li class="next">On dragged</li>
            <li class="next">On drag ended</li>
        </ol>
    </section>




    <section class="slide">
        <h2>Please update slides:</h2>
        <ul>
            <li>rename project at <mark>GitHub</mark> with snake-case convention</li>
            <li><mark>description</mark> and <mark>link</mark> on GitHub repository profile</li>
            <li>link to <mark>"Fork me on GitHub"</mark> on the bottom of document</li>
            <li>setup presentation title in
                <ul>
                    <li><mark>&lt;title&gt;</mark> tag on the top of document in <mark>&lt;head&gt;</mark> tag</li>
                    <li><mark>README.md</mark> file</li>
                    <li><mark>&lt;h1&gt;</mark> tag at <mark>&lt;header&gt;</mark> tag on the top of document</li>
                </ul>
            </li>
        </ul>
    </section>

    <section class="slide">
        <h2>List Navigation</h2>
        <ol>
            <li>Ennui keffiyeh thundercats</li>
            <li class="next">Jean shorts biodiesel</li>
            <li class="next">Terry richardson, swag blog</li>
            <li class="next">Locavore umami vegan helvetica</li>
            <li class="next">Fingerstache kale chips</li>
        </ol>
        <p class="next">Before they sold out master</p>
    </section>

    <section class="slide">
        <h2>Slide Header</h2>

        <p>Echo Park 8-bit sustainable umami deep v Kickstarter. DIY cliche typewriter brunch, Odd Future sriracha pickled aesthetic. Farm-to-table bespoke fingerstache, kale chips umami brunch letterpress.</p>
        <p>Whatever authentic disrupt, you probably haven't heard of them direct trade mlkshk Etsy. Gluten-free roof party plaid four loko quinoa.</p>
        <p class="note">Echo Park 8-bit sustainable umami deep v Kickstarter.</p>
    </section>

    <section class="slide">
        <h2>Inline Elements</h2>

        <p>Retro meh brunch <a href="">aesthetic</a> Cosby sweater Shoreditch. Banksy Tumblr
            <strong>sriracha</strong>, flexitarian pug chia master cleanse vinyl
            <em>wayfarers</em> fanny pack bespoke Helvetica <b>roof</b> party. Messenger bag retro cred
            <i>Portland</i> next level. Yr stumptown Schlitz Carles deep v small batch. Hella sustainable messenger bag,
            <mark>leggings</mark>
            skateboard literally<sup>1</sup> bicycle rights H<sub>2</sub>0 mumblecore banh mi DIY VHS. Semiotics four loko street art asymmetrical. Asymmetrical
            <code>&lt;paleo&gt;</code> you probably haven’t heard of.
        </p>

        <footer class="footer">
            <p>Retro meh brunch <a href="">aesthetic</a> Cosby sweater Shoreditch. Banksy Tumblr
                <strong>sriracha</strong>, flexitarian pug chia master cleanse vinyl
                <em>wayfarers</em> fanny pack bespoke Helvetica <b>roof</b> party. Messenger bag retro cred
                <i>Portland</i> next level. Yr stumptown Schlitz Carles deep v small batch. Hella sustainable messenger bag,
                <mark>leggings</mark>
                skateboard literally<sup>1</sup> bicycle rights H<sub>2</sub>0 mumblecore banh mi DIY VHS. Semiotics four loko street art asymmetrical. Asymmetrical
                <code>&lt;paleo&gt;</code> you probably haven’t heard of.
            </p>
        </footer>
    </section>

    <section class="slide">
        <h2>Columns</h2>
        <p class="double">Echo Park 8-bit sustainable umami deep v Kickstarter. DIY cliche typewriter brunch, Odd Future sriracha pickled aesthetic. Farm-to-table bespoke fingerstache, kale chips umami brunch American Apparel letterpress. Whatever authentic disrupt, you probably haven't heard of them direct trade mlkshk Etsy. Gluten-free roof party plaid American Apparel four loko quinoa. Echo Park 8-bit sustainable.</p>
    </section>

    <section class="slide">
        <h2>Quotes</h2>
        <blockquote>
            <p>Flannel bicycle rights locavore selfies skateboard. Authentic fanny pack paleo four loko bespoke. Artisan tattooed chia XOXO ennui, lomo disrupt 8-bit art party Tumblr scenester.</p>
        </blockquote>
        <figure>
            <blockquote>
                <p>Post-ironic fashion axe flexitarian, Tonx narwhal messenger bag Tumblr. Portland gentrify deep v kale chips literally.</p>
            </blockquote>
            <figcaption>Yours Truly</figcaption>
        </figure>
    </section>

    <section class="slide">
        <h2>Nested Lists</h2>
        <ol>
            <li>Literally viral vegan, ugh drinking vinegar photo booth</li>
            <li>Wes Anderson chillwave Marfa pour-over Etsy banh mi</li>
            <li>Ethnic polaroid lo-fi iPhone ennui
                <ul>
                    <li>Yr wayfarers before they sold out Kickstarter asymmetrical</li>
                    <li>Irony flexitarian readymade quinoa, kogi bespoke meggings narwhal</li>
                    <li>Skateboard Etsy twee artisan Echo Park</li>
                </ul>
            </li>
            <li>Tonx kitsch fingerstache readymade, retro single-origin coffee</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Simple Table</h2>
        <table>
            <tr>
                <th scope="col">Gentrify</th>
                <th>Twee</th>
                <th>Artisan</th>
                <th>Banksy</th>
            </tr>
            <tr>
                <th scope="row">Messenger</th>
                <td>Mixtape</td>
                <td>Small batch</td>
                <td>Bicycle rights</td>
            </tr>
            <tr>
                <th scope="row">Meggings</th>
                <td>Freegan</td>
                <td>Retro biodiesel</td>
                <td>Slow-carb</td>
            </tr>
            <tr>
                <th scope="row">Vegan</th>
                <td>Occupy</td>
                <td>Normcore</td>
                <td>Put a bird on it</td>
            </tr>
            <tr>
                <th scope="row">Next level</th>
                <td>Selfies</td>
                <td>Sustainable</td>
                <td>Organic</td>
            </tr>
            <tr>
                <th scope="row">Umami</th>
                <td>Asymmetrical</td>
                <td>Keytar</td>
                <td>Craft beer</td>
            </tr>
            <tr>
                <th scope="row">Biodiesel</th>
                <td>Haven’t heard</td>
                <td>Skateboard</td>
                <td>Farm-to-table</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <h2>Striped Table</h2>
        <table class="striped">
            <tr>
                <th scope="col">Gentrify</th>
                <th>Twee</th>
                <th>Artisan</th>
                <th>Banksy</th>
            </tr>
            <tr>
                <th scope="row">Messenger</th>
                <td>Mixtape</td>
                <td>Small batch</td>
                <td>Bicycle rights</td>
            </tr>
            <tr>
                <th scope="row">Meggings</th>
                <td>Freegan</td>
                <td>Retro biodiesel</td>
                <td>Slow-carb</td>
            </tr>
            <tr>
                <th scope="row">Vegan</th>
                <td>Occupy</td>
                <td>Normcore</td>
                <td>Put a bird on it</td>
            </tr>
            <tr>
                <th scope="row">Next level</th>
                <td>Selfies</td>
                <td>Sustainable</td>
                <td>Organic</td>
            </tr>
            <tr>
                <th scope="row">Umami</th>
                <td>Asymmetrical</td>
                <td>Keytar</td>
                <td>Craft beer</td>
            </tr>
            <tr>
                <th scope="row">Biodiesel</th>
                <td>Haven’t heard</td>
                <td>Skateboard</td>
                <td>Farm-to-table</td>
            </tr>
        </table>
    </section>

    <section class="slide prism">
        <h2>Listing Slide</h2>

        <pre style="font-size: 45px;" class="language-javascript line-numbers">
            <code>
                function wrap(value) {
                    return function () {
                        return value;
                    }
                }

                function bind(monad, f) {
                    return f(monad());
                }
            </code>
        </pre>
    </section>

    <section class="slide prism">
        <pre style="font-size: 30px;" class="language-javascript line-numbers">
            <code>
                var monad = wrap('cookie');
                bind(monad, (value) => {
                    console.info(value);
                    return wrap(value);
                });
                monad = bind(monad, (value) => {
                    return wrap({ type: value });
                });
                bind(monad, (value) => {
                    console.log(value);
                    return wrap(value);
                });
            </code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout"><a href="">Linked</a> Shout</h2>
    </section>

    <section class="slide">
        <h2 class="shout grow">Effect: Growing Shout</h2>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Effect: Shrinking Shout</h2>
    </section>

    <section class="slide">
        <figure>
            <img class="cover" src="vendors/shower-ribbon/pictures/exact.png" alt="">
            <figcaption class="white">Copyright © 2016 <a href="">Yours Truly</a>, Famous Inc.</figcaption>
        </figure>
    </section>

    <section class="slide">
        <img class="cover" src="vendors/shower-ribbon/pictures/tall.png" alt="">
    </section>

    <section class="slide">
        <img class="cover" src="vendors/shower-ribbon/pictures/wide.png" alt="">
    </section>

    <section class="slide white">
        <img class="place top left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place top" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place top right" src="vendors/shower-ribbon/pictures/square.png" alt="">

        <img class="place left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place right" src="vendors/shower-ribbon/pictures/square.png" alt="">

        <img class="place bottom left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place bottom" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place bottom right" src="vendors/shower-ribbon/pictures/square.png" alt="">
    </section>

    <section class="slide" data-timing="00:03">
        <h3 class="shout">Automatic switch slide after <strong>3 secs</strong> ...</h3>
    </section>

    <section class="slide">
        <h3 class="shout">See you next month at WarsawJS</h3>
    </section>

    <div class="progress"></div>

    <footer class="badge">
        <a href="https://github.com/warsawjs/warsawjs-slides-template">Fork me on GitHub</a>
    </footer>

    <footer class="badge badge-down">
        <a href="#" class="fullscreen">Fullscreen</a>
    </footer>

    <script src="vendors/gamepad/gamepad.js"></script>
    <script src="vendors/shower/shower.min.js"></script>
    <script src="vendors/shower-gamepad/shower.gamepad.js"></script>
    <script src="modules/fullscreen.js"></script>

    <!-- Prism.js -->
    <script src="vendors/prism/prism.js"></script>
    <script src="vendors/prism/custom-prism.js"></script>
</body>
</html>
